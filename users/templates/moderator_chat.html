{% extends "base.html" %}

{% block title %}Чат модератора{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row">
        <div class="col-md-8">
            <h2>Активные чаты модератора</h2>
            <div class="chat-box border p-3" style="max-height: 500px; overflow-y: auto;">
                {% for chat in active_chats %}
                    <div class="chat-item mb-3 p-2 border rounded">
                        <strong>{{ chat.user.email }}</strong>
                        <div class="float-end">
                            <a href="{% url 'chat_detail' chat.user.id %}" class="btn btn-info btn-sm">Перейти к чату</a>
                            <a href="{% url 'close_chat' chat.id %}" class="btn btn-danger btn-sm">Закрыть чат</a>
                        </div>
                    </div>
                {% empty %}
                    <div class="alert alert-warning">Нет активных чатов.</div>
                {% endfor %}
            </div>
        </div>

        <div class="col-md-4">
            <h3>Действия</h3>
            <div class="d-grid gap-2">
                <a href="{% url 'moderator_post_view' %}" class="btn btn-warning">Модерация постов</a>
                <a href="{% url 'home' %}" class="btn btn-secondary">Назад</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
